# Test Configuration
spring.application.name=findu-negotiation-service

# Server
server.connection-timeout=1000ms
server.tomcat.connection-timeout=1000ms
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10

# External Services
#findu.dms.base-url=http://localhost:8801
#findu.user.base-url=http://localhost:8800
#findu.chat.base-url=http://localhost:8460
#findu.order-negotiation-agent.base-url=http://localhost:8900
#findu.order-negotiation-agent.completions-endpoint=/api/v1/inner/order_negotiation/completions
#findu.order-negotiation-agent.enabled=true

# RestTemplate HttpClient
#spring.http.client.connection-timeout=5000
#spring.http.client.read-timeout=10000
#spring.http.client.pool.max-total=200
#spring.http.client.pool.default-max-per-route=50
#spring.http.client.pool.time-to-live=60000

# Log4j2 Disruptor async logging
log4j2.contextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector
log4j2.waitStrategy=SleepingWaitStrategy
log4j2.asyncLoggerRingBufferSize=262144
log4j2.asyncLoggerWaitStrategy=Discard

# H2 Database Configuration
spring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console (optional, for debugging)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# MyBatis Configuration
mybatis.mapper-locations=classpath:mapper/**/*.xml
mybatis.type-aliases-package=com.findu.negotiation.domain.calendar.entity
mybatis.configuration.map-underscore-to-camel-case=true

# Logging
logging.level.com.findu.negotiation=DEBUG
logging.level.com.findu.negotiation.infrastructure.mapper=DEBUG
logging.level.org.springframework.test=DEBUG
